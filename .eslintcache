[{"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/index.js":"1","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/reportWebVitals.js":"2","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/App.js":"3","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Header.js":"4","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/utils/PrivateRoute.js":"5","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/UserInfoCard.js":"6","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/constants/apiContants.js":"7","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/api/roomService.js":"8","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/socket/roomSocket.js":"9","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/socket/index.js":"10","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/socket/matchSocket.js":"11","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/api/service.js":"12","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/api/authService.js":"13","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Board.js":"14","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Square.js":"15","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/page/Match.js":"16","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/page/Home.js":"17","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/page/Room.js":"18","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/page/RegisterForm.js":"19","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/page/LoginForm.js":"20","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/api/matchService.js":"21","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/index.js":"22","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Join/Join.js":"23","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Chat/Chat.js":"24","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Input/Input.js":"25","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/InfoBar/InfoBar.js":"26","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/TextContainer/TextContainer.js":"27","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Messages/Messages.js":"28","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Messages/Message/Message.js":"29","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Dialog.js":"30","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/UserOnline.js":"31","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/socket/HomeSocket.js":"32"},{"size":500,"mtime":1609574009127,"results":"33","hashOfConfig":"34"},{"size":362,"mtime":1609574009127,"results":"35","hashOfConfig":"34"},{"size":1736,"mtime":1610352536973,"results":"36","hashOfConfig":"34"},{"size":2936,"mtime":1610587159292,"results":"37","hashOfConfig":"34"},{"size":580,"mtime":1609574009131,"results":"38","hashOfConfig":"34"},{"size":1360,"mtime":1610351479475,"results":"39","hashOfConfig":"34"},{"size":243,"mtime":1610505941646,"results":"40","hashOfConfig":"34"},{"size":1379,"mtime":1609581033625,"results":"41","hashOfConfig":"34"},{"size":573,"mtime":1610591795658,"results":"42","hashOfConfig":"34"},{"size":178,"mtime":1610349005090,"results":"43","hashOfConfig":"34"},{"size":568,"mtime":1610555227661,"results":"44","hashOfConfig":"34"},{"size":2145,"mtime":1610046861693,"results":"45","hashOfConfig":"46"},{"size":2176,"mtime":1610586744385,"results":"47","hashOfConfig":"34"},{"size":691,"mtime":1610115972968,"results":"48","hashOfConfig":"34"},{"size":273,"mtime":1610115967484,"results":"49","hashOfConfig":"34"},{"size":5674,"mtime":1610599627334,"results":"50","hashOfConfig":"34"},{"size":4387,"mtime":1610596231331,"results":"51","hashOfConfig":"34"},{"size":3585,"mtime":1610597735700,"results":"52","hashOfConfig":"34"},{"size":4556,"mtime":1610530188564,"results":"53","hashOfConfig":"34"},{"size":6327,"mtime":1610259707221,"results":"54","hashOfConfig":"34"},{"size":3125,"mtime":1610597942398,"results":"55","hashOfConfig":"34"},{"size":65,"mtime":1610338632025,"results":"56","hashOfConfig":"34"},{"size":897,"mtime":1610338632025,"results":"57","hashOfConfig":"34"},{"size":1900,"mtime":1610541980095,"results":"58","hashOfConfig":"34"},{"size":562,"mtime":1610338632025,"results":"59","hashOfConfig":"34"},{"size":498,"mtime":1610338632025,"results":"60","hashOfConfig":"34"},{"size":866,"mtime":1610338632025,"results":"61","hashOfConfig":"34"},{"size":366,"mtime":1610338632025,"results":"62","hashOfConfig":"34"},{"size":947,"mtime":1610338632025,"results":"63","hashOfConfig":"34"},{"size":1492,"mtime":1610594412226,"results":"64","hashOfConfig":"34"},{"size":3714,"mtime":1610599234006,"results":"65","hashOfConfig":"34"},{"size":607,"mtime":1610588930963,"results":"66","hashOfConfig":"34"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},"h6f3pg",{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"69"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"91","messages":"92","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1whrjcx",{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"101","messages":"102","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"69"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"69"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"69"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"134","messages":"135","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"69"},"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/index.js",[],["137","138"],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/reportWebVitals.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/App.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Header.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/utils/PrivateRoute.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/UserInfoCard.js",["139","140","141"],"import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 345,\n  },\n  media: {\n    height: 140,\n  },\n});\n\nexport default function UserCard(props) {\n    const classes = useStyles();\n    const handleButtonReady = () =>{\n      props.joinMatchSock(props.user);\n    }\n\n    return (\n      <div>\n      {props.user !== null && <Card className={classes.root}>\n      <CardActionArea>\n        <CardMedia\n          className={classes.media}\n          image={props.user.avatar}\n          title={props.user.name}\n        />\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            {props.user.name}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">aaaa\n            {/* {new Date(user.registerDate).toLocaleDateString} */}\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n    }\n    </div>\n  );\n}\n","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/constants/apiContants.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/api/roomService.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/socket/roomSocket.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/socket/index.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/socket/matchSocket.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/api/service.js",["142"],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/api/authService.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Board.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Square.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/page/Match.js",["143","144","145","146","147","148","149","150","151","152"],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/page/Home.js",["153","154","155"],"import React,{ useEffect,useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { withRouter } from 'react-router-dom';\nimport {useForm } from 'react-hook-form';\nimport { ACCESS_TOKEN_NAME } from '../constants/apiContants';\nimport {getUserToken,getCurrentUser} from '../api/authService';\nimport { joinRoom, addRoom } from '../api/roomService';\nimport {joinRoomSock,addRoomScok} from '../socket/roomSocket';\nimport {ioClient} from '../socket/index';\nimport UserOnline from '../components/UserOnline';\nimport Dialog from '../components/Dialog';\n// import io from 'socket.io-client'\n\n//const ioClient = io.connect(\"https://caro-game-api.herokuapp.com/\");\n\nfunction Home(props) {\n    const [openDialog,setOpenDialog]=useState(false);\n    const [contentDialog,setContentDialog]= useState(\"accept\");\n    const [inviteRoomId,setInviteRoomId]=useState();\n    const {register, handleSubmit} = useForm();\n    const token = getUserToken();\n    const name = getCurrentUser();\n\n    \n    const handleJoin = ((data) => {\n      console.log(\"data in handle join\");\n      console.log(data);\n      joinRoom(data.id).then(result => {\n        if (result.status < 400) {\n          props.setError(null)\n          joinRoomSock(result.data._id);\n          console.log(result)\n          props.history.push('/room/' + result.data._id);\n        } else {\n          props.setError(\"Error finding room\")\n        }\n      }).catch((error) => {\n        props.setError(error.message)\n      })\n    })\n\n    const handleAddNew = (() => {\n      addRoom().then(result => {\n        if (result.status < 400) {\n          props.setError(null)\n          console.log(result)\n          props.history.push('/room/' + result.data._id);\n          // joinRoomSock(result.data._id);\n          joinRoomSock(result.data._id);\n        } else {\n          props.setError(\"Error add new room\")\n        }\n      }).catch((error) => {\n        props.setError(error.message)\n      })\n    })\n    const acceptInvite=() =>{\n      console.log(\"accept invite\");\n      setOpenDialog(false);\n      handleJoin({id:inviteRoomId});\n\n    }\n\n    // const  joinRoomSock=((data) =>{\n    //   ioClient.emit(\"join_room\",{data});\n    // })\n\n    useEffect(() => {\n        if (!localStorage.getItem(ACCESS_TOKEN_NAME)) redirectToLogin();  \n        if(token){\n          ioClient.off(\"online\");\n          ioClient.emit(\"online\", getCurrentUser());\n        }\n\n        ioClient.on(\"join_room_from_invite\",({roomId,name})=>{\n            setContentDialog(name +\" muốn mời bạn chơi cùng phòng \" +roomId);\n            setInviteRoomId(roomId);\n            setOpenDialog(true);\n          console.log(roomId+name);\n        })\n    },[])\n  function redirectToLogin() {\n    props.history.push('/login');\n  }\n  const useStyles = makeStyles((theme) => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(1),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n  const classes = useStyles();\n  return (\n    <div className=\"App\">\n      <form className={classes.form} noValidate onSubmit={handleSubmit((data)=> handleJoin(data))}>\n      <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            inputRef={register}\n            required\n            name=\"id\"\n            label=\"Input Room ID\"\n            type=\"text\"\n            id=\"id\"\n            autoComplete=\"current-id\"\n          />\n      <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Join room\n          </Button>\n      </form>\n      <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            onClick={handleAddNew}\n          >\n            Add new room\n          </Button>\n          <UserOnline />\n          <Dialog setOpenDialog={setOpenDialog} openDialog={openDialog} content={contentDialog} setResult={acceptInvite}/>\n    </div>\n  );\n}\n\nexport default withRouter(Home);","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/page/Room.js",["156","157","158","159","160"],"import React, { useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n\nimport { ACCESS_TOKEN_NAME } from '../constants/apiContants';\nimport { getRoomInfo } from '../api/roomService';\nimport UserInfoCard from '../components/UserInfoCard';\nimport { joinMatchSock, createdMatchSock } from '../socket/matchSocket';\nimport { createMatch } from '../api/matchService';\nimport { newRoomPlayerSock, inviteRoomSock} from '../socket/roomSocket';\nimport { ioClient } from '../socket/index';\nimport Button from '@material-ui/core/Button';\nimport { getCurrentUser, getUserToken } from '../api/authService';\nimport UserOnline from '../components/UserOnline';\n\n// import io from 'socket.io-client';\n// // const ioClient = io.connect(\"http://127.0.0.1:8088\");\n\nfunction Room(props) {\n  const [players, setPlayers] = useState([]);\n  const [roomId, setRoomId] = useState();\n  let room_Id = props.match.params.id;\n\n\n  const setListUser = (() => {\n    getRoomInfo(room_Id).then(result => {\n      if (result.status < 400) {\n        setPlayers(result.data.players)\n        setRoomId(result.data.room.idRoom);\n        // room_Id=result.data.room._id;\n        console.log('rome _id', room_Id)\n\n        props.setTitle(result.data.room.idRoom);\n      }\n    }).catch((error) => {\n      props.setError(error.message)\n\n    })\n  })\n  useEffect(() => {\n    if (!localStorage.getItem(ACCESS_TOKEN_NAME)) redirectToLogin();\n    //  newRoomPlayerSock();\n    // setListUser();  \n    setListUser();\n    ioClient.on(\"create_match\", async ({roomId,player1,player2}) => {\n    const result = await createMatch(room_Id);\n      console.log(result);\n      if (result._id) {\n        // console.log(roomId);\n        // console.log(JSON.stringify(roomId));\n\n        // console.log(roomInfor.roomId);\n        createdMatchSock(roomId,result._id);\n        localStorage.setItem(\"player\", JSON.stringify({player1,player2}));\n\n      }\n    })\n    ioClient.on(\"start_game\", (data) => {\n      console.log(data);\n      props.history.push('/match/' + data);\n      // setPlayers([]);\n    })\n    ioClient.on(\"new_room_player\", (data) => {\n      setListUser();\n      console.log(data);\n      // setPlayers([]);\n    })\n  }, [])\n  function redirectToLogin() {\n    props.history.push('/login');\n  }\n  const handlePlay = (() => {\n    // joinMatch(room_Id);\n  })\n\n  const handleReady = () => {\n    // const userToken=getUserToken();\n    joinMatchSock(roomId, getCurrentUser());\n  }\n  const handleInvite=(enemyId)=>{\n    console.log(enemyId);\n    inviteRoomSock(roomId,enemyId,getCurrentUser())\n  }\n  \n\n  return (\n    <Container component=\"main\">\n      <CssBaseline />\n      <Typography component=\"h1\" variant=\"h5\">\n      PHÒNG ĐẤU\n       </Typography>\n       <br/>\n       {roomId !== null &&\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleReady}\n            >\n              Ready\n    </Button>}\n      <Grid container spacing={2}>\n        <Grid item xs={8}>\n\n    {players !== null && players.map((player) => <UserInfoCard key={player._id} user={player}></UserInfoCard>)}\n        </Grid>\n        <Grid item xs={4}>\n          <UserOnline handleInvite={handleInvite}/>\n        </Grid>\n       \n\n      </Grid>\n    </Container>\n  );\n}\n\nexport default withRouter(Room);","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/page/RegisterForm.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/page/LoginForm.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/api/matchService.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/index.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Join/Join.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Chat/Chat.js",["161","162","163","164","165"],"import React, { useState, useEffect } from \"react\";\nimport queryString from 'query-string';\n// import io from \"socket.io-client\";\nimport {ioClient} from \"../../socket/index\";\n\n\nimport {InfoBar} from '../InfoBar/InfoBar';\nimport {Input} from '../Input/Input';\nimport {Messages} from '../Messages/Messages';\nimport {TextContainer} from '../TextContainer/TextContainer';\nimport {chatMatch} from '../../api/matchService';\n\nimport './Chat.css';\n\n// let socket;\n\nexport const Chat = (props) => {\n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n  const [users, setUsers] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([{user:\"xxx\",text:\"test\"}]);\n\n\n  useEffect(() => {\n    const { name, room } = props;\n    console.log(name+room);\n\n    setRoom(room);\n    setName(name);\n\n    ioClient.emit('join', { name, room }, (error) => {\n      if(error) {\n        alert(error);\n      }\n    });\n  }, []);\n  \n  useEffect(() => {\n    ioClient.on('message', message => {\n\n      setMessages(msgs => [ ...msgs, message ]);\n      console.log(messages);\n    });\n    \n    ioClient.on(\"roomData\", ({ users }) => {\n      setUsers(users);\n    });\n}, []);\n\n  const sendMessage = async (event) => {\n    event.preventDefault();\n\n    if(message) {\n      console.log(\"message is\");\n        console.log(message);\n        console.log(name);\n        const result =await chatMatch(props.id,{name,message});\n\n      if(result._id){\n      ioClient.emit('sendMessage', message, () => setMessage(''));\n      }\n    }\n  }\n\n\n  return (\n    <div className=\"outerContainer\">\n    {/* <TextContainer users={users} /> */}\n      <div className=\"container\">\n          <InfoBar room={room} />\n          <Messages messages={messages} name={name} />\n          <Input message={message} setMessage={setMessage} sendMessage={sendMessage} />\n      </div>\n    </div>\n  );\n}","/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Input/Input.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/InfoBar/InfoBar.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/TextContainer/TextContainer.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Messages/Messages.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Messages/Message/Message.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/Dialog.js",[],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/components/UserOnline.js",["166","167"],"/home/ubuntu/Desktop/hk1/advance_web/last_creact/caro-client-react/src/socket/HomeSocket.js",["168"],"import { InsertChartOutlinedTwoTone } from '@material-ui/icons';\nimport { ioClient } from './index';\n\n// i is location in 1D\n// export const handleClickInMatch = (i) => {\n//     ioClient.emit(\"play\", { i });\n// }\n// export const drawMatchSock =() =>{\n//     ioClient.emit(\"match_draw_request\");\n// }\n// export const createdMatchSock = (roomId,matchId) => {\n//     console.log(roomId+matchId +\"ne\");\n//     ioClient.emit(\"match_created\", {roomId,matchId});\n// } \nexport const offLineSock =() => {\n    ioClient.emit(\"off_line\");\n}\n\nexport const getUserOnlineSock=() =>{\n    ioClient.emit(\"get_user_online\");\n}",{"ruleId":"169","replacedBy":"170"},{"ruleId":"171","replacedBy":"172"},{"ruleId":"173","severity":1,"message":"174","line":5,"column":8,"nodeType":"175","messageId":"176","endLine":5,"endColumn":19},{"ruleId":"173","severity":1,"message":"177","line":8,"column":8,"nodeType":"175","messageId":"176","endLine":8,"endColumn":14},{"ruleId":"173","severity":1,"message":"178","line":22,"column":11,"nodeType":"175","messageId":"176","endLine":22,"endColumn":28},{"ruleId":"179","severity":2,"message":"180","line":67,"column":22,"nodeType":"175","messageId":"181","endLine":67,"endColumn":33},{"ruleId":"173","severity":1,"message":"182","line":7,"column":10,"nodeType":"175","messageId":"176","endLine":7,"endColumn":20},{"ruleId":"173","severity":1,"message":"183","line":14,"column":10,"nodeType":"175","messageId":"176","endLine":14,"endColumn":32},{"ruleId":"173","severity":1,"message":"184","line":14,"column":34,"nodeType":"175","messageId":"176","endLine":14,"endColumn":46},{"ruleId":"173","severity":1,"message":"185","line":31,"column":10,"nodeType":"175","messageId":"176","endLine":31,"endColumn":19},{"ruleId":"173","severity":1,"message":"186","line":31,"column":21,"nodeType":"175","messageId":"176","endLine":31,"endColumn":33},{"ruleId":"173","severity":1,"message":"187","line":32,"column":10,"nodeType":"175","messageId":"176","endLine":32,"endColumn":21},{"ruleId":"173","severity":1,"message":"188","line":32,"column":23,"nodeType":"175","messageId":"176","endLine":32,"endColumn":37},{"ruleId":"189","severity":1,"message":"190","line":61,"column":16,"nodeType":"191","messageId":"192","endLine":61,"endColumn":18},{"ruleId":"189","severity":1,"message":"190","line":63,"column":39,"nodeType":"191","messageId":"192","endLine":63,"endColumn":41},{"ruleId":"189","severity":1,"message":"190","line":87,"column":12,"nodeType":"191","messageId":"192","endLine":87,"endColumn":14},{"ruleId":"173","severity":1,"message":"193","line":10,"column":22,"nodeType":"175","messageId":"176","endLine":10,"endColumn":33},{"ruleId":"173","severity":1,"message":"194","line":24,"column":11,"nodeType":"175","messageId":"176","endLine":24,"endColumn":15},{"ruleId":"195","severity":1,"message":"196","line":83,"column":7,"nodeType":"197","endLine":83,"endColumn":9,"suggestions":"198"},{"ruleId":"173","severity":1,"message":"182","line":6,"column":10,"nodeType":"175","messageId":"176","endLine":6,"endColumn":20},{"ruleId":"173","severity":1,"message":"199","line":14,"column":10,"nodeType":"175","messageId":"176","endLine":14,"endColumn":27},{"ruleId":"173","severity":1,"message":"200","line":17,"column":26,"nodeType":"175","messageId":"176","endLine":17,"endColumn":38},{"ruleId":"195","severity":1,"message":"201","line":72,"column":6,"nodeType":"197","endLine":72,"endColumn":8,"suggestions":"202"},{"ruleId":"173","severity":1,"message":"203","line":76,"column":9,"nodeType":"175","messageId":"176","endLine":76,"endColumn":19},{"ruleId":"173","severity":1,"message":"204","line":2,"column":8,"nodeType":"175","messageId":"176","endLine":2,"endColumn":19},{"ruleId":"173","severity":1,"message":"205","line":10,"column":9,"nodeType":"175","messageId":"176","endLine":10,"endColumn":22},{"ruleId":"173","severity":1,"message":"206","line":20,"column":10,"nodeType":"175","messageId":"176","endLine":20,"endColumn":15},{"ruleId":"195","severity":1,"message":"207","line":37,"column":6,"nodeType":"197","endLine":37,"endColumn":8,"suggestions":"208"},{"ruleId":"195","severity":1,"message":"209","line":49,"column":4,"nodeType":"197","endLine":49,"endColumn":6,"suggestions":"210"},{"ruleId":"173","severity":1,"message":"211","line":35,"column":11,"nodeType":"175","messageId":"176","endLine":35,"endColumn":18},{"ruleId":"195","severity":1,"message":"212","line":84,"column":8,"nodeType":"197","endLine":84,"endColumn":10,"suggestions":"213"},{"ruleId":"173","severity":1,"message":"214","line":1,"column":10,"nodeType":"175","messageId":"176","endLine":1,"endColumn":36},"no-native-reassign",["215"],"no-negated-in-lhs",["216"],"no-unused-vars","'CardActions' is defined but never used.","Identifier","unusedVar","'Button' is defined but never used.","'handleButtonReady' is assigned a value but never used.","no-undef","'API_URLHOME' is not defined.","undef","'makeStyles' is defined but never used.","'ContactSupportOutlined' is defined but never used.","'PinDropSharp' is defined but never used.","'timeCount' is assigned a value but never used.","'settimeCount' is assigned a value but never used.","'oponentMove' is assigned a value but never used.","'setOponentMove' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'addRoomScok' is defined but never used.","'name' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'redirectToLogin' and 'token'. Either include them or remove the dependency array.","ArrayExpression",["217"],"'newRoomPlayerSock' is defined but never used.","'getUserToken' is defined but never used.","React Hook useEffect has missing dependencies: 'props.history', 'redirectToLogin', 'room_Id', and 'setListUser'. Either include them or remove the dependency array.",["218"],"'handlePlay' is assigned a value but never used.","'queryString' is defined but never used.","'TextContainer' is defined but never used.","'users' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array.",["219"],"React Hook useEffect has a missing dependency: 'messages'. Either include it or remove the dependency array.",["220"],"'history' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'isBusy'. Either include it or remove the dependency array.",["221"],"'InsertChartOutlinedTwoTone' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"222","fix":"223"},{"desc":"224","fix":"225"},{"desc":"226","fix":"227"},{"desc":"228","fix":"229"},{"desc":"230","fix":"231"},"Update the dependencies array to be: [redirectToLogin, token]",{"range":"232","text":"233"},"Update the dependencies array to be: [props.history, redirectToLogin, room_Id, setListUser]",{"range":"234","text":"235"},"Update the dependencies array to be: [props]",{"range":"236","text":"237"},"Update the dependencies array to be: [messages]",{"range":"238","text":"239"},"Update the dependencies array to be: [isBusy]",{"range":"240","text":"241"},[2771,2773],"[redirectToLogin, token]",[2454,2456],"[props.history, redirectToLogin, room_Id, setListUser]",[970,972],"[props]",[1209,1211],"[messages]",[2579,2581],"[isBusy]"]